# DTCG 规则书翻译工具 - 快速开始

## 🚀 快速开始（推荐）

### 1. 确保文件就绪
确保以下两个PDF文件在 `card_game_judge` 目录下：
- ✅ `数码宝贝卡牌对战 综合规则1.2（2024-02-16）.pdf` （旧版中文规则书）
- ✅ `general_rule.pdf` （新版日文规则书）

### 2. 安装依赖（如果还没安装）
```bash
cd card_game_judge
pip install -r requirements.txt
```

### 3. 配置 API Key
编辑 `.env` 文件，确保有以下配置：

**使用 Google Gemini（推荐，免费额度大）：**
```
GOOGLE_API_KEY=你的Google_API密钥
```

**或使用 OpenAI GPT-4（质量更高，需付费）：**
```
OPENAI_API_KEY=你的OpenAI_API密钥
```

### 4. 运行翻译
```bash
python run_translation.py
```

然后按照菜单提示选择翻译引擎即可！

---

## 📁 文件说明

### 核心翻译脚本
- `translate_rulebook.py` - OpenAI GPT-4 版本
- `translate_rulebook_gemini.py` - Google Gemini 版本
- `run_translation.py` - 简易启动器（推荐使用）

### 文档
- `TRANSLATION_README.md` - 详细使用说明
- `translate_comparison.md` - 两个版本的对比
- `翻译工具使用指南.md` - 本文件

---

## 🎯 工作原理

1. **提取术语**：从旧版中文规则书中自动提取专有名词
2. **智能翻译**：使用 AI 将日文规则书翻译成中文
3. **术语对齐**：确保翻译使用与旧版一致的专业术语
4. **保存结果**：输出为文本文件，方便查看和编辑

---

## 💡 使用建议

### 首次使用
1. 先用 **Gemini 版本**快速翻译（免费）
2. 检查翻译质量，特别是专业术语
3. 如需更高质量，再用 **GPT-4 版本**

### 术语检查重点
翻译完成后，重点检查以下术语是否正确：
- 卡牌类型：数码蛋、数码兽、驯兽师、选项卡
- 游戏区域：育成区、战斗区、安全区、废弃区
- 游戏动作：进化、孵化、攻击、休眠、激活
- 特殊术语：进化源、进化费用、DP（数码力量）

### 优化建议
- 如果翻译结果不理想，可以：
  1. 调整 `max_chars` 参数（分块大小）
  2. 修改 `temperature` 参数（翻译随机性）
  3. 增加更多术语示例

---

## ⚙️ 高级用法

### 直接运行特定版本

**Gemini 版本：**
```bash
python translate_rulebook_gemini.py
```

**OpenAI 版本：**
```bash
python translate_rulebook.py
```

### 自定义输出文件名

编辑对应的 `.py` 文件中的 `main()` 函数：
```python
output_file = "你的自定义文件名.txt"
```

### 调整翻译参数

在翻译脚本中可以调整：
- `max_chars`: 每块文本的大小（默认 2000-3000）
- `temperature`: AI 创造性（0.1-1.0，越低越保守）
- 提示词（prompt）：可以添加更多翻译要求

---

## 🔧 故障排除

### 问题：找不到 PDF 文件
**解决**：确保 PDF 文件在 `card_game_judge` 目录下，文件名完全匹配

### 问题：API Key 无效
**解决**：
1. 检查 `.env` 文件中的 API Key 是否正确
2. 确认 API Key 有足够的配额
3. 测试 API Key 是否可用

### 问题：翻译中断
**解决**：
1. 检查网络连接
2. 查看 API 配额是否用完
3. 重新运行脚本（会从头开始）

### 问题：术语不一致
**解决**：
1. 检查旧版中文规则书是否正确
2. 可以手动编辑术语对照表
3. 增加术语提取的文本长度

---

## 📊 输出文件

翻译完成后会生成：
- `数码宝贝卡牌对战_综合规则_最新版_中文翻译.txt` (OpenAI 版本)
- `数码宝贝卡牌对战_综合规则_最新版_中文翻译_gemini.txt` (Gemini 版本)

建议：
1. 用文本编辑器打开查看
2. 对比原文检查准确性
3. 必要时进行人工校对
4. 可以转换为 PDF 或其他格式

---

## 📞 需要帮助？

如果遇到问题：
1. 查看 `TRANSLATION_README.md` 了解详细信息
2. 查看 `translate_comparison.md` 对比两个版本
3. 检查控制台输出的错误信息
4. 确认所有依赖都已正确安装

---

## ✨ 提示

- 翻译大约需要 3-10 分钟，取决于文档长度
- 建议在网络稳定时运行
- 首次运行建议使用 Gemini（免费）测试效果
- 翻译结果仅供参考，重要内容请人工审核
