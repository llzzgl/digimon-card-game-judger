"""
DTCG 专有名词术语表
基于规则书整理的日文-中文术语对照
"""

# 卡牌类型
CARD_TYPE_MAPPING = {
    "デジタマ": "数码蛋",
    "デジモン": "数码宝贝",
    "テイマー": "驯兽师",
    "オプション": "选项",
}

# 颜色
COLOR_MAPPING = {
    "赤": "红",
    "青": "蓝",
    "黄": "黄",
    "緑": "绿",
    "黒": "黑",
    "紫": "紫",
    "白": "白",
}

# 形态/进化阶段
FORM_MAPPING = {
    "幼年期": "幼年期",
    "成長期": "成长期",
    "成熟期": "成熟期",
    "完全体": "完全体",
    "究極体": "究极体",
    "超究極体": "超究极体",
    "アーマー体": "装甲体",
    "ハイブリッド体": "混合体",
}

# 属性
ATTRIBUTE_MAPPING = {
    "ワクチン種": "疫苗种",
    "データ種": "数据种",
    "ウィルス種": "病毒种",
    "フリー種": "自由种",
    "不明": "不明",
    "変異種": "变异种",
}

# 稀有度
RARITY_MAPPING = {
    "C": "C",
    "U": "U",
    "R": "R",
    "SR": "SR",
    "SEC": "SEC",
    "P": "P",
}

# 关键词效果
KEYWORD_EFFECT_MAPPING = {
    "≪セキュリティアタック": "≪判定安防",
    "≪ブロッカー≫": "≪阻挡者≫",
    "≪速攻≫": "≪速攻≫",
    "≪貫通≫": "≪贯通≫",
    "≪再起動≫": "≪再启动≫",
    "≪進撃≫": "≪进击≫",
    "≪ジャミング≫": "≪干扰≫",
    "≪抜刀≫": "≪拔刀≫",
    "≪回避≫": "≪回避≫",
    "≪退化≫": "≪退化≫",
    "≪消滅時≫": "≪消灭时≫",
    "≪セーブ≫": "≪保存≫",
    "≪マテリアルセーブ≫": "≪素材保存≫",
    "≪連携≫": "≪连携≫",
    "≪アライズ≫": "≪觉醒≫",
    "≪デコイ≫": "≪诱饵≫",
    "≪レイジ≫": "≪狂怒≫",
    "≪オーバーフロー≫": "≪超流≫",
    "≪トレーニング≫": "≪训练≫",
    "≪ディレイ≫": "≪延迟≫",
    "≪リカバリー≫": "≪恢复≫",
    "≪ドロー≫": "≪抽卡≫",
}

# 效果时机
EFFECT_TIMING_MAPPING = {
    "【登場時】": "【登场时】",
    "【進化時】": "【进化时】",
    "【アタック時】": "【攻击时】",
    "【ブロック時】": "【阻挡时】",
    "【消滅時】": "【消灭时】",
    "【自分のターン】": "【自己的回合】",
    "【相手のターン】": "【对手的回合】",
    "【お互いのターン】": "【双方回合】",
    "【メイン】": "【主要】",
    "【セキュリティ】": "【安防】",
    "【カウンター】": "【反击】",
    "【ターン終了時】": "【回合结束时】",
    "【自分のターン開始時】": "【自己的回合开始时】",
    "【相手のターン開始時】": "【对手的回合开始时】",
    "【自分のメインフェイズ開始時】": "【自己的主要阶段开始时】",
    "【起動】": "【启动】",
}

# 游戏术语
GAME_TERM_MAPPING = {
    "メモリー": "内存",
    "DP": "DP",
    "Lv.": "Lv.",
    "進化元": "进化源",
    "セキュリティ": "安防",
    "デッキ": "卡组",
    "手札": "手牌",
    "トラッシュ": "废弃区",
    "バトルエリア": "战斗区",
    "育成エリア": "育成区",
    "エリア": "区域",
    "アクティブ": "活跃",
    "レスト": "休眠",
    "登場": "登场",
    "進化": "进化",
    "消滅": "消灭",
    "アタック": "攻击",
    "ブロック": "阻挡",
    "チェック": "判定",
    "バトル": "对战",
    "ターン": "回合",
    "フェイズ": "阶段",
    "コスト": "费用",
    "効果": "效果",
    "特徴": "特征",
    "タイプ": "类型",
    "属性": "属性",
    "形態": "形态",
    "カード": "卡牌",
    "プレイヤー": "玩家",
    "相手": "对手",
    "自分": "自己",
    "孵化": "孵化",
    "移動": "移动",
    "廃棄": "废弃",
    "公開": "公开",
    "選ぶ": "选择",
    "対象": "目标",
    "発動": "发动",
    "トリガー": "触发",
    "処理": "处理",
    "条件": "条件",
    "デジクロス": "数码合体",
    "ジョグレス": "联展进化",
    "バースト進化": "爆裂进化",
    "アプリ合体": "应用合体",
    "アセンブル": "组装",
    "リンク": "链接",
    "トークン": "衍生物",
}

# 数码宝贝类型（常见）
DIGIMON_TYPE_MAPPING = {
    "レッサー型": "小型",
    "爬虫類型": "爬虫类型",
    "恐竜型": "恐龙型",
    "竜型": "龙型",
    "竜人型": "龙人型",
    "鳥型": "鸟型",
    "巨鳥型": "巨鸟型",
    "鳥人型": "鸟人型",
    "獣型": "兽型",
    "獣人型": "兽人型",
    "聖獣型": "圣兽型",
    "魔獣型": "魔兽型",
    "昆虫型": "昆虫型",
    "植物型": "植物型",
    "水棲型": "水栖型",
    "海獣型": "海兽型",
    "魚型": "鱼型",
    "天使型": "天使型",
    "堕天使型": "堕天使型",
    "魔人型": "魔人型",
    "悪魔型": "恶魔型",
    "機械型": "机械型",
    "サイボーグ型": "改造型",
    "アンドロイド型": "人造人型",
    "突然変異型": "突然变异型",
    "聖騎士型": "圣骑士型",
    "魔王型": "魔王型",
    "神人型": "神人型",
    "ヒナ鳥型": "雏鸟型",
    "火炎型": "火焰型",
    "氷雪型": "冰雪型",
    "雷型": "雷型",
    "風型": "风型",
    "土型": "土型",
    "光型": "光型",
    "闇型": "暗型",
    "ゴースト型": "幽灵型",
    "不定型": "不定型",
    "スライム型": "史莱姆型",
    "哺乳類型": "哺乳类型",
    "両生類型": "两栖类型",
    "甲殻類型": "甲壳类型",
    "軟体型": "软体型",
    "岩石型": "岩石型",
    "鉱石型": "矿石型",
    "宝石型": "宝石型",
    "パペット型": "傀儡型",
    "ミュータント型": "变种型",
    "合成型": "合成型",
    "強化型": "强化型",
    "古代型": "古代型",
    "伝説型": "传说型",
    "神話型": "神话型",
    "ユニーク型": "独特型",
    "不明型": "不明型",
}

# 常见动作词
ACTION_MAPPING = {
    "する": "",
    "できる": "可以",
    "させる": "使",
    "なる": "变为",
    "得る": "获得",
    "失う": "失去",
    "持つ": "持有",
    "置く": "放置",
    "戻す": "返回",
    "加える": "加入",
    "引く": "抽取",
    "捨てる": "丢弃",
    "見る": "查看",
    "選ぶ": "选择",
    "破棄": "废弃",
}


def get_all_mappings() -> dict:
    """获取所有术语映射的合并字典"""
    all_mappings = {}
    all_mappings.update(CARD_TYPE_MAPPING)
    all_mappings.update(COLOR_MAPPING)
    all_mappings.update(FORM_MAPPING)
    all_mappings.update(ATTRIBUTE_MAPPING)
    all_mappings.update(KEYWORD_EFFECT_MAPPING)
    all_mappings.update(EFFECT_TIMING_MAPPING)
    all_mappings.update(GAME_TERM_MAPPING)
    all_mappings.update(DIGIMON_TYPE_MAPPING)
    return all_mappings


def save_terminology_json(output_path: str):
    """保存术语表到JSON文件"""
    import json
    
    terminology = {
        "card_type": CARD_TYPE_MAPPING,
        "color": COLOR_MAPPING,
        "form": FORM_MAPPING,
        "attribute": ATTRIBUTE_MAPPING,
        "rarity": RARITY_MAPPING,
        "keyword_effect": KEYWORD_EFFECT_MAPPING,
        "effect_timing": EFFECT_TIMING_MAPPING,
        "game_term": GAME_TERM_MAPPING,
        "digimon_type": DIGIMON_TYPE_MAPPING,
        "action": ACTION_MAPPING,
    }
    
    with open(output_path, 'w', encoding='utf-8') as f:
        json.dump(terminology, f, ensure_ascii=False, indent=2)
    
    print(f"术语表已保存到: {output_path}")


if __name__ == "__main__":
    from pathlib import Path
    output_dir = Path(__file__).parent
    save_terminology_json(str(output_dir / "dtcg_terminology.json"))
